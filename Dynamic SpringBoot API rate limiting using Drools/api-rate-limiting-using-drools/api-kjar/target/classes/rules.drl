import java.lang.*;

import io.waqasahmed.apiratelimitingusingdrools.apimodels.model.Person

global java.lang.Boolean isThresholdReached;

rule "Print String"
enabled false
when
    $str : String( )
then
    System.out.println("Received String: " + $str);
end

rule "Access Limit Rule"
when
    $person: Person(accessCount == 10)
then
    System.out.println("Did I?");
    // Execute actions when the rule fires
    $person.setExceedesLimit(true);
    update($person); // Update the person object in the session
end

rule "Check Number"
enabled false
when
    $number : Integer(this == 10)
then
    // Set the global variable to true
    isThresholdReached = true;
    // setGlobal("isThresholdReached", true);
    System.out.println("API Limit Reached. " + isThresholdReached);
end